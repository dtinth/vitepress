<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      (WIP) VitePress üìùüí® | VitePress
    </title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/_assets/style.8a785236.css">
    <link rel="modulepreload" href="/_assets/common-d338704c.js">
    <link rel="modulepreload" href="/_assets/README.md.fe77602a.lean.js">
    <link rel="modulepreload" href="/_assets/app.a7574bb2.js">
    
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header><!--[--><a class="title" aria-label="VitePress, back to home" href="/"><!----><span>VitePress</span></a><!----><!--]--><div class="sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div></header><aside class=""><ul class="sidebar"><!--[--><!--]--></ul></aside><div class="sidebar-mask"></div><main><div class="content"><div><h1 id="wip-vitepress-üìùüí®"><a class="header-anchor" href="#wip-vitepress-üìùüí®" aria-hidden="true">#</a> (WIP) VitePress üìùüí®</h1><blockquote><p><a href="http://vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer">VuePress</a>&#39; little brother, built on top of <a href="https://github.com/vuejs/vite" target="_blank" rel="noopener noreferrer">vite</a></p></blockquote><p><strong>Note this is early WIP! Currently the focus is on making Vite stable and feature complete first. It is not recommended to use this for anything serious yet.</strong></p><div class="language-bash"><pre><code><span class="token function">npm</span> <span class="token function">install</span> -D vitepress
<span class="token builtin class-name">echo</span> <span class="token string">&#39;# Hello VitePress&#39;</span> <span class="token operator">&gt;</span> index.md

<span class="token comment"># starts dev server</span>
npx vitepress

<span class="token comment"># build &gt; .vitepress/dist</span>
npx vitepress build
</code></pre></div><h2 id="customization"><a class="header-anchor" href="#customization" aria-hidden="true">#</a> Customization</h2><p>Configuration can be done via <code>.vitepress/config.js</code> (see <code>src/node/config.ts</code>)</p><p>You can develop your custom theme by adding the following files:</p><p><code>.vitepress/theme/Layout.vue</code></p><div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Custom Layout!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Content</span><span class="token punctuation">/&gt;</span></span><span class="token comment">&lt;!-- make sure to include markdown outlet --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>.vitepress/theme/index.js</code></p><div class="language-js"><pre><code><span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">&#39;./Layout.vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  Layout<span class="token punctuation">,</span>
  <span class="token function-variable function">NotFound</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&#39;custom 404&#39;</span><span class="token punctuation">,</span> <span class="token comment">// &lt;- this is a Vue 3 functional component</span>
  <span class="token function">enhanceApp</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> app<span class="token punctuation">,</span> router<span class="token punctuation">,</span> siteData <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// app is the Vue 3 app instance from createApp()</span>
    <span class="token comment">// router is VitePress&#39; custom router (see `lib/app/router.js`)</span>
    <span class="token comment">// siteData is a ref of current site-level metadata.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Unlike VuePress, the only file with a fixed location in a theme is <code>index.js</code> - everything else is imported and exported there like in a normal application.</p><h2 id="motivation"><a class="header-anchor" href="#motivation" aria-hidden="true">#</a> Motivation</h2><p>I love VuePress, but being built on top of webpack, the time it takes to spin up the dev server for a simple doc site with a few pages is just becoming unbearable. Even HMR updates can take up to seconds to reflect in the browser!</p><p>As a reference, the <a href="https://github.com/vuejs/composition-api-rfc" target="_blank" rel="noopener noreferrer">Composition API RFC repo</a> is just two pages, but it takes 4 seconds to spin up the server, and almost 2 seconds for any edit to reflect in the browser.</p><p>Fundamentally, this is because VuePress is a webpack app under the hood. Even with just two pages, it&#39;s a full on webpack project (including all the theme source files) being compiled. It gets even worse when the project has many pages - every page must first be fully compiled before the server can even display anything!</p><p>Incidentally, <a href="https://github.com/vuejs/vite" target="_blank" rel="noopener noreferrer">vite</a> solves these problems really well: nearly instant server start, on-demand compilation that only compiles the page being served, and lightning fast HMR. Plus, there are a few additional design issues I have noted in VuePress over time, but never had the time to fix due to the amount of refactoring it would require.</p><p>Now, with <code>vite</code> and Vue 3, it is time to rethink what a &quot;Vue-powered static site generator&quot; can really be.</p><h2 id="improvements-over-vuepress"><a class="header-anchor" href="#improvements-over-vuepress" aria-hidden="true">#</a> Improvements over VuePress</h2><ul><li><p>Uses Vue 3.</p><ul><li><p>Leverages Vue 3&#39;s improved template static analysis to stringify static content as much as possible. Static content is sent as string literals instead of JavaScript render function code - the JS payload is therefore <em>much</em> cheaper to parse, and hydration also becomes faster.</p><p>Note the optimization is applied while still allowing the user to freely mix Vue components inside markdown content - the compiler does the static/dynamic separation for you automatically and you never need to think about it.</p></li></ul></li><li><p>Uses <code>vite</code> under the hood:</p><ul><li>Faster dev server start</li><li>Faster hot updates</li><li>Faster build (uses Rollup internally)</li></ul></li><li><p>Lighter page weight.</p><ul><li>Vue 3 tree-shaking + Rollup code splitting</li><li>Does not ship metadata for every page on every request. This decouples page weight from total number of pages. Only the current page&#39;s metadata is sent. Client side navigation fetches the new page&#39;s component and metadata together.</li><li>Does not use <code>vue-router</code> because the need of VitePress is very simple and specific - a simple custom router (under 200 LOC) is used instead.</li><li>(WIP) i18n locale data should also be fetched on demand.</li></ul></li></ul><h2 id="other-differences"><a class="header-anchor" href="#other-differences" aria-hidden="true">#</a> Other Differences</h2><ul><li><p>More opinionated and less configurable: VitePress aims to scale back the complexity in the current VuePress and restart from its minimalist roots.</p></li><li><p>Future oriented: VitePress only targets browsers that support native ES module imports. It encourages the use of native JavaScript without transpilation, and CSS variables for theming.</p></li></ul><h2 id="will-this-become-the-next-vuepress-in-the-future"><a class="header-anchor" href="#will-this-become-the-next-vuepress-in-the-future" aria-hidden="true">#</a> Will this become the next VuePress in the future?</h2><p>Maybe! It&#39;s currently under a different name so that we don&#39;t over commit to the compatibility with the current VuePress ecosystem (mostly themes and plugins). We&#39;ll see how close we can get without compromising the design goals listed above. But the overall idea is that VitePress will have a drastically more minimal theming API (preferring JavaScript APIs instead of file layout conventions) and likely no plugins (all customization is done in themes).</p><h2 id="want-to-contribute"><a class="header-anchor" href="#want-to-contribute" aria-hidden="true">#</a> Want to contribute?</h2><p>Check out our <a href="https://github.com/vuejs/vitepress/blob/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">contributing guide</a> for more information!</p><h2 id="license"><a class="header-anchor" href="#license" aria-hidden="true">#</a> License</h2><p>MIT</p></div><div class="links-wrapper"><div class="prev-link"><!----></div><div class="next-link"><!----></div></div></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"CHANGELOG.md\":\"f510a22f\",\"CONTRIBUTING.md\":\"4097a409\",\"README.md\":\"fe77602a\"}")</script>
    <script type="module" async src="/_assets/app.a7574bb2.js"></script>
  </body>
</html>